<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 Concepts | Data Network Dashboards</title>
  <meta name="description" content="This is the manual for setting up a clean installation of the dashboards used in the EHDEN project." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 Concepts | Data Network Dashboards" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is the manual for setting up a clean installation of the dashboards used in the EHDEN project." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 Concepts | Data Network Dashboards" />
  
  <meta name="twitter:description" content="This is the manual for setting up a clean installation of the dashboards used in the EHDEN project." />
  

<meta name="author" content="This document is currently under construction" />


<meta name="date" content="2020-11-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="death.html"/>
<link rel="next" href="data-domains.html"/>
<script src="libs/header-attrs-2.5/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Network Dashboards</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#contributors"><i class="fa fa-check"></i>Contributors</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#considerations"><i class="fa fa-check"></i>Considerations</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#license"><i class="fa fa-check"></i>License</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledges"><i class="fa fa-check"></i>Acknowledges</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#data-network-dashboard"><i class="fa fa-check"></i><b>1.1</b> Data Network Dashboard</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>2</b> Installation</a>
<ul>
<li class="chapter" data-level="2.1" data-path="installation.html"><a href="installation.html#first-steps"><i class="fa fa-check"></i><b>2.1</b> First Steps</a></li>
<li class="chapter" data-level="2.2" data-path="installation.html"><a href="installation.html#dashboard-viewer-setup"><i class="fa fa-check"></i><b>2.2</b> Dashboard Viewer setup</a></li>
<li class="chapter" data-level="2.3" data-path="installation.html"><a href="installation.html#insert-concepts"><i class="fa fa-check"></i><b>2.3</b> Insert Concepts</a></li>
<li class="chapter" data-level="2.4" data-path="installation.html"><a href="installation.html#superset-setup"><i class="fa fa-check"></i><b>2.4</b> Superset setup</a></li>
<li class="chapter" data-level="2.5" data-path="installation.html"><a href="installation.html#dummy-data"><i class="fa fa-check"></i><b>2.5</b> Dummy data</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="general.html"><a href="general.html"><i class="fa fa-check"></i><b>3</b> General</a>
<ul>
<li class="chapter" data-level="3.1" data-path="general.html"><a href="general.html#css"><i class="fa fa-check"></i><b>3.1</b> CSS</a></li>
<li class="chapter" data-level="3.2" data-path="general.html"><a href="general.html#database-type-and-country-filter"><i class="fa fa-check"></i><b>3.2</b> Database Type and Country Filter</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="general.html"><a href="general.html#sql-query"><i class="fa fa-check"></i><b>3.2.1</b> SQL query</a></li>
<li class="chapter" data-level="3.2.2" data-path="general.html"><a href="general.html#chart-settings"><i class="fa fa-check"></i><b>3.2.2</b> Chart settings</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="general.html"><a href="general.html#total-number-of-patients"><i class="fa fa-check"></i><b>3.3</b> Total Number of Patients</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="general.html"><a href="general.html#sql-query-1"><i class="fa fa-check"></i><b>3.3.1</b> SQL query</a></li>
<li class="chapter" data-level="3.3.2" data-path="general.html"><a href="general.html#chart-settings-1"><i class="fa fa-check"></i><b>3.3.2</b> Chart settings</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="general.html"><a href="general.html#network-growth-by-date"><i class="fa fa-check"></i><b>3.4</b> Network Growth by Date</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="general.html"><a href="general.html#sql-query-2"><i class="fa fa-check"></i><b>3.4.1</b> SQL query</a></li>
<li class="chapter" data-level="3.4.2" data-path="general.html"><a href="general.html#chart-settings-2"><i class="fa fa-check"></i><b>3.4.2</b> Chart settings</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="general.html"><a href="general.html#patients-per-country"><i class="fa fa-check"></i><b>3.5</b> Patients per Country</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="general.html"><a href="general.html#sql-query-3"><i class="fa fa-check"></i><b>3.5.1</b> SQL query</a></li>
<li class="chapter" data-level="3.5.2" data-path="general.html"><a href="general.html#chart-settings-3"><i class="fa fa-check"></i><b>3.5.2</b> Chart settings</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="general.html"><a href="general.html#database-types-per-country"><i class="fa fa-check"></i><b>3.6</b> Database Types per Country</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="general.html"><a href="general.html#sql-query-4"><i class="fa fa-check"></i><b>3.6.1</b> SQL query</a></li>
<li class="chapter" data-level="3.6.2" data-path="general.html"><a href="general.html#chart-settings-4"><i class="fa fa-check"></i><b>3.6.2</b> Chart settings</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="general.html"><a href="general.html#world-map"><i class="fa fa-check"></i><b>3.7</b> World Map</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="general.html"><a href="general.html#sql-query-5"><i class="fa fa-check"></i><b>3.7.1</b> SQL query</a></li>
<li class="chapter" data-level="3.7.2" data-path="general.html"><a href="general.html#chart-settings-5"><i class="fa fa-check"></i><b>3.7.2</b> Chart settings</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="general.html"><a href="general.html#meta-data"><i class="fa fa-check"></i><b>3.8</b> Meta Data</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="general.html"><a href="general.html#sql-query-6"><i class="fa fa-check"></i><b>3.8.1</b> SQL query</a></li>
<li class="chapter" data-level="3.8.2" data-path="general.html"><a href="general.html#chart-settings-6"><i class="fa fa-check"></i><b>3.8.2</b> Chart settings</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="person.html"><a href="person.html"><i class="fa fa-check"></i><b>4</b> Person</a>
<ul>
<li class="chapter" data-level="4.1" data-path="person.html"><a href="person.html#label-colors"><i class="fa fa-check"></i><b>4.1</b> Label Colors</a></li>
<li class="chapter" data-level="4.2" data-path="person.html"><a href="person.html#css-1"><i class="fa fa-check"></i><b>4.2</b> CSS</a></li>
<li class="chapter" data-level="4.3" data-path="person.html"><a href="person.html#data-source-filter"><i class="fa fa-check"></i><b>4.3</b> Data Source Filter</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="person.html"><a href="person.html#sql-query-7"><i class="fa fa-check"></i><b>4.3.1</b> SQL query</a></li>
<li class="chapter" data-level="4.3.2" data-path="person.html"><a href="person.html#chart-settings-7"><i class="fa fa-check"></i><b>4.3.2</b> Chart settings</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="person.html"><a href="person.html#age-at-first-observation---table"><i class="fa fa-check"></i><b>4.4</b> Age at first observation - Table</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="person.html"><a href="person.html#sql-query-8"><i class="fa fa-check"></i><b>4.4.1</b> SQL query</a></li>
<li class="chapter" data-level="4.4.2" data-path="person.html"><a href="person.html#chart-settings-8"><i class="fa fa-check"></i><b>4.4.2</b> Chart settings</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="person.html"><a href="person.html#age-at-first-observation---bars"><i class="fa fa-check"></i><b>4.5</b> Age at first observation - Bars</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="person.html"><a href="person.html#sql-query-9"><i class="fa fa-check"></i><b>4.5.1</b> SQL query</a></li>
<li class="chapter" data-level="4.5.2" data-path="person.html"><a href="person.html#chart-settings-9"><i class="fa fa-check"></i><b>4.5.2</b> Chart settings</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="person.html"><a href="person.html#year-of-birth"><i class="fa fa-check"></i><b>4.6</b> Year of Birth</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="person.html"><a href="person.html#sql-query-10"><i class="fa fa-check"></i><b>4.6.1</b> SQL query</a></li>
<li class="chapter" data-level="4.6.2" data-path="person.html"><a href="person.html#chart-settings-10"><i class="fa fa-check"></i><b>4.6.2</b> Chart settings</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="person.html"><a href="person.html#gender"><i class="fa fa-check"></i><b>4.7</b> Gender</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="person.html"><a href="person.html#sql-query-11"><i class="fa fa-check"></i><b>4.7.1</b> SQL query</a></li>
<li class="chapter" data-level="4.7.2" data-path="person.html"><a href="person.html#chart-settings-11"><i class="fa fa-check"></i><b>4.7.2</b> Chart settings</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="observation-period.html"><a href="observation-period.html"><i class="fa fa-check"></i><b>5</b> Observation Period</a>
<ul>
<li class="chapter" data-level="5.1" data-path="observation-period.html"><a href="observation-period.html#css-2"><i class="fa fa-check"></i><b>5.1</b> CSS</a></li>
<li class="chapter" data-level="5.2" data-path="observation-period.html"><a href="observation-period.html#data-source-filter-1"><i class="fa fa-check"></i><b>5.2</b> Data Source Filter</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="observation-period.html"><a href="observation-period.html#sql-query-12"><i class="fa fa-check"></i><b>5.2.1</b> SQL query</a></li>
<li class="chapter" data-level="5.2.2" data-path="observation-period.html"><a href="observation-period.html#chart-settings-12"><i class="fa fa-check"></i><b>5.2.2</b> Chart settings</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="observation-period.html"><a href="observation-period.html#number-of-patients-in-observation-period"><i class="fa fa-check"></i><b>5.3</b> Number of Patients in Observation Period</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="observation-period.html"><a href="observation-period.html#sql-query-13"><i class="fa fa-check"></i><b>5.3.1</b> SQL query</a></li>
<li class="chapter" data-level="5.3.2" data-path="observation-period.html"><a href="observation-period.html#chart-settings-13"><i class="fa fa-check"></i><b>5.3.2</b> Chart settings</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="observation-period.html"><a href="observation-period.html#observation-period-start-dates"><i class="fa fa-check"></i><b>5.4</b> Observation Period Start Dates</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="observation-period.html"><a href="observation-period.html#sql-query-14"><i class="fa fa-check"></i><b>5.4.1</b> SQL query</a></li>
<li class="chapter" data-level="5.4.2" data-path="observation-period.html"><a href="observation-period.html#chart-settings-14"><i class="fa fa-check"></i><b>5.4.2</b> Chart settings</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="observation-period.html"><a href="observation-period.html#observation-period-end-dates"><i class="fa fa-check"></i><b>5.5</b> Observation Period End Dates</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="observation-period.html"><a href="observation-period.html#sql-query-15"><i class="fa fa-check"></i><b>5.5.1</b> SQL query</a></li>
<li class="chapter" data-level="5.5.2" data-path="observation-period.html"><a href="observation-period.html#chart-settings-15"><i class="fa fa-check"></i><b>5.5.2</b> Chart settings</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="visit.html"><a href="visit.html"><i class="fa fa-check"></i><b>6</b> Visit</a>
<ul>
<li class="chapter" data-level="6.1" data-path="visit.html"><a href="visit.html#css-3"><i class="fa fa-check"></i><b>6.1</b> CSS</a></li>
<li class="chapter" data-level="6.2" data-path="visit.html"><a href="visit.html#data-source-filter-2"><i class="fa fa-check"></i><b>6.2</b> Data Source Filter</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="visit.html"><a href="visit.html#sql-query-16"><i class="fa fa-check"></i><b>6.2.1</b> SQL query</a></li>
<li class="chapter" data-level="6.2.2" data-path="visit.html"><a href="visit.html#chart-settings-16"><i class="fa fa-check"></i><b>6.2.2</b> Chart settings</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="visit.html"><a href="visit.html#visit-type-table"><i class="fa fa-check"></i><b>6.3</b> Visit Type Table</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="visit.html"><a href="visit.html#sql-query-17"><i class="fa fa-check"></i><b>6.3.1</b> SQL query</a></li>
<li class="chapter" data-level="6.3.2" data-path="visit.html"><a href="visit.html#chart-settings-17"><i class="fa fa-check"></i><b>6.3.2</b> Chart settings</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="visit.html"><a href="visit.html#visit-types-bars"><i class="fa fa-check"></i><b>6.4</b> Visit Types Bars</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="visit.html"><a href="visit.html#sql-query-18"><i class="fa fa-check"></i><b>6.4.1</b> SQL query</a></li>
<li class="chapter" data-level="6.4.2" data-path="visit.html"><a href="visit.html#chart-settings-18"><i class="fa fa-check"></i><b>6.4.2</b> Chart settings</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="death.html"><a href="death.html"><i class="fa fa-check"></i><b>7</b> Death</a>
<ul>
<li class="chapter" data-level="7.1" data-path="death.html"><a href="death.html#css-4"><i class="fa fa-check"></i><b>7.1</b> CSS</a></li>
<li class="chapter" data-level="7.2" data-path="death.html"><a href="death.html#data-source-filter-3"><i class="fa fa-check"></i><b>7.2</b> Data Source Filter</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="death.html"><a href="death.html#sql-query-19"><i class="fa fa-check"></i><b>7.2.1</b> SQL query</a></li>
<li class="chapter" data-level="7.2.2" data-path="death.html"><a href="death.html#chart-settings-19"><i class="fa fa-check"></i><b>7.2.2</b> Chart settings</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="death.html"><a href="death.html#number-of-records"><i class="fa fa-check"></i><b>7.3</b> Number of Records</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="death.html"><a href="death.html#sql-query-20"><i class="fa fa-check"></i><b>7.3.1</b> SQL query</a></li>
<li class="chapter" data-level="7.3.2" data-path="death.html"><a href="death.html#chart-settings-20"><i class="fa fa-check"></i><b>7.3.2</b> Chart settings</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="death.html"><a href="death.html#death-by-year-per-thousand-people"><i class="fa fa-check"></i><b>7.4</b> Death By Year per Thousand People</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="death.html"><a href="death.html#sql-query-21"><i class="fa fa-check"></i><b>7.4.1</b> SQL query</a></li>
<li class="chapter" data-level="7.4.2" data-path="death.html"><a href="death.html#chart-settings-21"><i class="fa fa-check"></i><b>7.4.2</b> Chart settings</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="concepts.html"><a href="concepts.html"><i class="fa fa-check"></i><b>8</b> Concepts</a>
<ul>
<li class="chapter" data-level="8.1" data-path="concepts.html"><a href="concepts.html#concepts-general-tab"><i class="fa fa-check"></i><b>8.1</b> Concepts General Tab</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="concepts.html"><a href="concepts.html#sql-query-22"><i class="fa fa-check"></i><b>8.1.1</b> SQL query</a></li>
<li class="chapter" data-level="8.1.2" data-path="concepts.html"><a href="concepts.html#charts"><i class="fa fa-check"></i><b>8.1.2</b> Charts</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="concepts.html"><a href="concepts.html#concepts-domains-tab"><i class="fa fa-check"></i><b>8.2</b> Concepts Domains Tab</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="concepts.html"><a href="concepts.html#sql-query-23"><i class="fa fa-check"></i><b>8.2.1</b> SQL query</a></li>
<li class="chapter" data-level="8.2.2" data-path="concepts.html"><a href="concepts.html#chart-settings-22"><i class="fa fa-check"></i><b>8.2.2</b> Chart settings</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="data-domains.html"><a href="data-domains.html"><i class="fa fa-check"></i><b>9</b> Data Domains</a>
<ul>
<li class="chapter" data-level="9.1" data-path="data-domains.html"><a href="data-domains.html#data-domains---number-of-records-per-peson"><i class="fa fa-check"></i><b>9.1</b> Data Domains - Number of Records per Peson</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="data-domains.html"><a href="data-domains.html#sql-query-24"><i class="fa fa-check"></i><b>9.1.1</b> SQL query</a></li>
<li class="chapter" data-level="9.1.2" data-path="data-domains.html"><a href="data-domains.html#chart-settings-23"><i class="fa fa-check"></i><b>9.1.2</b> Chart settings</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Network Dashboards</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="concepts" class="section level1" number="8">
<h1><span class="header-section-number">Chapter 8</span> Concepts</h1>
<!-- Discuss the goal of this dashboard... TO DO -->
<p>This chapter follows a different organization due to the reuse of the same query in several charts.</p>
<div id="concepts-general-tab" class="section level2" number="8.1">
<h2><span class="header-section-number">8.1</span> Concepts General Tab</h2>
<!-- Say the goal of this tab TO DO -->
<p>This tab uses an unique query and all the filters and charts were created using the same output. Therefore, this dashboard is composed by two filters, one big number, two bar charts and one table. The filters were splitted in order to apply the filtering of one over the other one. Figure <a href="concepts.html#fig:conceptsGeneralLayout">8.1</a> shows this dashboard’s layout.</p>
<div class="figure"><span id="fig:conceptsGeneralLayout"></span>
<img src="images/conceptsGeneralLayout.png" alt="Distribution of charts on the dashboard." width="100%" />
<p class="caption">
Figure 8.1: Distribution of charts on the dashboard.
</p>
</div>
<div id="sql-query-22" class="section level3" number="8.1.1">
<h3><span class="header-section-number">8.1.1</span> SQL query</h3>
<div class="sourceCode" id="cb32"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb32-1"><a href="concepts.html#cb32-1" aria-hidden="true"></a><span class="kw">SELECT</span></span>
<span id="cb32-2"><a href="concepts.html#cb32-2" aria-hidden="true"></a>    q1.concept_id <span class="kw">AS</span> concept_id,</span>
<span id="cb32-3"><a href="concepts.html#cb32-3" aria-hidden="true"></a>    q1.concept_name <span class="kw">AS</span> concept_name,</span>
<span id="cb32-4"><a href="concepts.html#cb32-4" aria-hidden="true"></a>    q1.domain_id,</span>
<span id="cb32-5"><a href="concepts.html#cb32-5" aria-hidden="true"></a>    <span class="kw">source</span>.name,</span>
<span id="cb32-6"><a href="concepts.html#cb32-6" aria-hidden="true"></a>    <span class="fu">sum</span>(q1.count_value) <span class="kw">AS</span> <span class="ot">&quot;Occurrence_count&quot;</span>,</span>
<span id="cb32-7"><a href="concepts.html#cb32-7" aria-hidden="true"></a>    <span class="fu">sum</span>(q1.count_person) <span class="kw">AS</span> <span class="ot">&quot;Person_count&quot;</span>,</span>
<span id="cb32-8"><a href="concepts.html#cb32-8" aria-hidden="true"></a>    <span class="cf">CASE</span> </span>
<span id="cb32-9"><a href="concepts.html#cb32-9" aria-hidden="true"></a>        <span class="cf">WHEN</span> <span class="fu">sum</span>(q1.count_value)<span class="op">&lt;=</span><span class="dv">10</span> <span class="cf">THEN</span> <span class="st">&#39;&lt;=10&#39;</span></span>
<span id="cb32-10"><a href="concepts.html#cb32-10" aria-hidden="true"></a>        <span class="cf">WHEN</span> <span class="fu">sum</span>(q1.count_value)<span class="op">&lt;=</span><span class="dv">100</span> <span class="cf">THEN</span> <span class="st">&#39;11-10ˆ2&#39;</span></span>
<span id="cb32-11"><a href="concepts.html#cb32-11" aria-hidden="true"></a>        <span class="cf">WHEN</span> <span class="fu">sum</span>(q1.count_value)<span class="op">&lt;=</span><span class="dv">1000</span> <span class="cf">THEN</span> <span class="st">&#39;10ˆ2-10ˆ3&#39;</span></span>
<span id="cb32-12"><a href="concepts.html#cb32-12" aria-hidden="true"></a>        <span class="cf">WHEN</span> <span class="fu">sum</span>(q1.count_value)<span class="op">&lt;=</span><span class="dv">10000</span> <span class="cf">THEN</span> <span class="st">&#39;10ˆ3-10ˆ4&#39;</span></span>
<span id="cb32-13"><a href="concepts.html#cb32-13" aria-hidden="true"></a>        <span class="cf">WHEN</span> <span class="fu">sum</span>(q1.count_value)<span class="op">&lt;=</span><span class="dv">100000</span> <span class="cf">THEN</span> <span class="st">&#39;10ˆ4-10ˆ5&#39;</span></span>
<span id="cb32-14"><a href="concepts.html#cb32-14" aria-hidden="true"></a>        <span class="cf">WHEN</span> <span class="fu">sum</span>(q1.count_value)<span class="op">&lt;=</span><span class="dv">1000000</span> <span class="cf">THEN</span> <span class="st">&#39;10ˆ5-10ˆ6&#39;</span></span>
<span id="cb32-15"><a href="concepts.html#cb32-15" aria-hidden="true"></a>        <span class="cf">ELSE</span> <span class="st">&#39;&gt;10ˆ6&#39;</span></span>
<span id="cb32-16"><a href="concepts.html#cb32-16" aria-hidden="true"></a>    <span class="cf">END</span> <span class="kw">AS</span> <span class="ot">&quot;magnitude_occurrences&quot;</span>,</span>
<span id="cb32-17"><a href="concepts.html#cb32-17" aria-hidden="true"></a>    <span class="cf">CASE</span> </span>
<span id="cb32-18"><a href="concepts.html#cb32-18" aria-hidden="true"></a>        <span class="cf">WHEN</span> <span class="fu">sum</span>(q1.count_person)<span class="op">&lt;=</span><span class="dv">10</span> <span class="cf">THEN</span> <span class="st">&#39;&lt;=10&#39;</span></span>
<span id="cb32-19"><a href="concepts.html#cb32-19" aria-hidden="true"></a>        <span class="cf">WHEN</span> <span class="fu">sum</span>(q1.count_person)<span class="op">&lt;=</span><span class="dv">100</span> <span class="cf">THEN</span> <span class="st">&#39;11-10ˆ2&#39;</span></span>
<span id="cb32-20"><a href="concepts.html#cb32-20" aria-hidden="true"></a>        <span class="cf">WHEN</span> <span class="fu">sum</span>(q1.count_person)<span class="op">&lt;=</span><span class="dv">1000</span> <span class="cf">THEN</span> <span class="st">&#39;10ˆ2-10ˆ3&#39;</span></span>
<span id="cb32-21"><a href="concepts.html#cb32-21" aria-hidden="true"></a>        <span class="cf">WHEN</span> <span class="fu">sum</span>(q1.count_person)<span class="op">&lt;=</span><span class="dv">10000</span> <span class="cf">THEN</span> <span class="st">&#39;10ˆ3-10ˆ4&#39;</span></span>
<span id="cb32-22"><a href="concepts.html#cb32-22" aria-hidden="true"></a>        <span class="cf">WHEN</span> <span class="fu">sum</span>(q1.count_person)<span class="op">&lt;=</span><span class="dv">100000</span> <span class="cf">THEN</span> <span class="st">&#39;10ˆ4-10ˆ5&#39;</span></span>
<span id="cb32-23"><a href="concepts.html#cb32-23" aria-hidden="true"></a>        <span class="cf">WHEN</span> <span class="fu">sum</span>(q1.count_person)<span class="op">&lt;=</span><span class="dv">1000000</span> <span class="cf">THEN</span> <span class="st">&#39;10ˆ5-10ˆ6&#39;</span></span>
<span id="cb32-24"><a href="concepts.html#cb32-24" aria-hidden="true"></a>        <span class="cf">ELSE</span> <span class="st">&#39;&gt;10ˆ6&#39;</span></span>
<span id="cb32-25"><a href="concepts.html#cb32-25" aria-hidden="true"></a>    <span class="cf">END</span> <span class="kw">AS</span> <span class="ot">&quot;magnitude_persons&quot;</span></span>
<span id="cb32-26"><a href="concepts.html#cb32-26" aria-hidden="true"></a><span class="kw">FROM</span> (<span class="kw">SELECT</span> analysis_id,</span>
<span id="cb32-27"><a href="concepts.html#cb32-27" aria-hidden="true"></a>             stratum_1 concept_id,</span>
<span id="cb32-28"><a href="concepts.html#cb32-28" aria-hidden="true"></a>             data_source_id,</span>
<span id="cb32-29"><a href="concepts.html#cb32-29" aria-hidden="true"></a>             concept_name,</span>
<span id="cb32-30"><a href="concepts.html#cb32-30" aria-hidden="true"></a>             domain_id,</span>
<span id="cb32-31"><a href="concepts.html#cb32-31" aria-hidden="true"></a>             count_value, <span class="dv">0</span> <span class="kw">AS</span> count_person</span>
<span id="cb32-32"><a href="concepts.html#cb32-32" aria-hidden="true"></a>    <span class="kw">FROM</span> achilles_results</span>
<span id="cb32-33"><a href="concepts.html#cb32-33" aria-hidden="true"></a>    <span class="kw">JOIN</span> concept <span class="kw">ON</span> <span class="fu">cast</span>(stratum_1 <span class="kw">AS</span> BIGINT)<span class="op">=</span>concept_id</span>
<span id="cb32-34"><a href="concepts.html#cb32-34" aria-hidden="true"></a>    <span class="kw">WHERE</span> analysis_id <span class="kw">in</span> (<span class="dv">201</span>, <span class="dv">301</span>, <span class="dv">401</span>, <span class="dv">601</span>, <span class="dv">701</span>, <span class="dv">801</span>, <span class="dv">901</span>, <span class="dv">1001</span>, </span>
<span id="cb32-35"><a href="concepts.html#cb32-35" aria-hidden="true"></a>        <span class="dv">1801</span>)</span>
<span id="cb32-36"><a href="concepts.html#cb32-36" aria-hidden="true"></a>    <span class="kw">UNION</span> (<span class="kw">SELECT</span>  analysis_id,</span>
<span id="cb32-37"><a href="concepts.html#cb32-37" aria-hidden="true"></a>                   stratum_1 concept_id,</span>
<span id="cb32-38"><a href="concepts.html#cb32-38" aria-hidden="true"></a>                   data_source_id,</span>
<span id="cb32-39"><a href="concepts.html#cb32-39" aria-hidden="true"></a>                   concept_name,</span>
<span id="cb32-40"><a href="concepts.html#cb32-40" aria-hidden="true"></a>                   domain_id,</span>
<span id="cb32-41"><a href="concepts.html#cb32-41" aria-hidden="true"></a>                   <span class="dv">0</span> <span class="kw">AS</span> count_value,</span>
<span id="cb32-42"><a href="concepts.html#cb32-42" aria-hidden="true"></a>                   <span class="fu">sum</span>(count_value) <span class="kw">AS</span> count_person</span>
<span id="cb32-43"><a href="concepts.html#cb32-43" aria-hidden="true"></a>            <span class="kw">FROM</span>  achilles_results</span>
<span id="cb32-44"><a href="concepts.html#cb32-44" aria-hidden="true"></a>            <span class="kw">JOIN</span> concept <span class="kw">on</span> <span class="fu">cast</span>(stratum_1 <span class="kw">AS</span> BIGINT)<span class="op">=</span>concept_id</span>
<span id="cb32-45"><a href="concepts.html#cb32-45" aria-hidden="true"></a>            <span class="kw">WHERE</span> analysis_id <span class="kw">in</span> (<span class="dv">202</span>, <span class="dv">401</span>, <span class="dv">601</span>, <span class="dv">701</span>, <span class="dv">801</span>, <span class="dv">901</span>, </span>
<span id="cb32-46"><a href="concepts.html#cb32-46" aria-hidden="true"></a>                <span class="dv">1001</span>, <span class="dv">1801</span>)</span>
<span id="cb32-47"><a href="concepts.html#cb32-47" aria-hidden="true"></a>            <span class="kw">GROUP</span> <span class="kw">BY</span> analysis_id, stratum_1, data_source_id, </span>
<span id="cb32-48"><a href="concepts.html#cb32-48" aria-hidden="true"></a>                concept_name, domain_id) ) <span class="kw">AS</span> q1</span>
<span id="cb32-49"><a href="concepts.html#cb32-49" aria-hidden="true"></a>    <span class="kw">INNER</span> <span class="kw">JOIN</span> <span class="kw">public</span>.data_source <span class="kw">AS</span> <span class="kw">source</span> <span class="kw">ON</span> </span>
<span id="cb32-50"><a href="concepts.html#cb32-50" aria-hidden="true"></a>        q1.data_source_id<span class="op">=</span><span class="kw">source</span>.<span class="kw">id</span></span>
<span id="cb32-51"><a href="concepts.html#cb32-51" aria-hidden="true"></a><span class="kw">GROUP</span> <span class="kw">BY</span> q1.concept_id, q1.concept_name, q1.domain_id,<span class="kw">source</span>.name;</span></code></pre></div>
</div>
<div id="charts" class="section level3" number="8.1.2">
<h3><span class="header-section-number">8.1.2</span> Charts</h3>
<!-- Here are all the charts presented in this dashboard using the previous query TO DO -->
<div id="entity-type-filter" class="section level4" number="8.1.2.1">
<h4><span class="header-section-number">8.1.2.1</span> Entity Type Filter</h4>
<p>This filter, which is a type of chart in Superset, was designed to be used in the dashboard aiming the filtering of the data based on the field ‘’domain_id’’ from the table ‘’concept’’. The main characteristics of this filter are presented in Figure <a href="concepts.html#fig:entityTypeFilter">8.2</a>, being the following:</p>
<ul>
<li><strong>Data Tab</strong>:
<ul>
<li><strong>Visualization Type</strong>: Filter Box</li>
<li><strong>Time range</strong>: No filter</li>
<li><strong>Metrics</strong>:</li>
<li><strong>Filters - Column</strong>: domain_id</li>
<li><strong>Filters - Label</strong>: Entity Type</li>
<li><strong>Data Filter</strong>: Not checked</li>
<li><strong>Row limit</strong>: Empty</li>
<li><strong>Contribution</strong>: Not checked</li>
<li><strong>Instant Filtering</strong>: Checked</li>
<li><strong>Show SQL Granularity Dropdown</strong>: Not checked</li>
<li><strong>Show Druid Granularity Dropdown</strong>: Not checked</li>
<li><strong>Show SQL Time Column</strong>: Not checked</li>
<li><strong>Show Druid Time Origin</strong>: Not checked</li>
<li><strong>Limit Selector Values</strong>: Empty</li>
</ul></li>
</ul>
<div class="figure"><span id="fig:entityTypeFilter"></span>
<img src="images/entityTypeFilter.png" alt="Settings for creating the database entity type filter." width="100%" />
<p class="caption">
Figure 8.2: Settings for creating the database entity type filter.
</p>
</div>
</div>
<div id="concept-filter" class="section level4" number="8.1.2.2">
<h4><span class="header-section-number">8.1.2.2</span> Concept Filter</h4>
<p>Similar to the previous filter, this was designed to be used in the dashboard aiming the filtering of the data based on the field ‘’concept_name’’ from the table ‘’concept’’. The main characteristics of this filter are presented in Figure <a href="concepts.html#fig:conceptFilter">8.3</a>, being the following:</p>
<ul>
<li><strong>Data Tab</strong>:
<ul>
<li><strong>Visualization Type</strong>: Filter Box</li>
<li><strong>Time range</strong>: No filter</li>
<li><strong>Metrics</strong>:</li>
<li><strong>Filters - Column</strong>: concept_name</li>
<li><strong>Filters - Label</strong>: Concept</li>
<li><strong>Data Filter</strong>: Not checked</li>
<li><strong>Row limit</strong>: Empty</li>
<li><strong>Contribution</strong>: Not checked</li>
<li><strong>Instant Filtering</strong>: Checked</li>
<li><strong>Show SQL Granularity Dropdown</strong>: Not checked</li>
<li><strong>Show Druid Granularity Dropdown</strong>: Not checked</li>
<li><strong>Show SQL Time Column</strong>: Not checked</li>
<li><strong>Show Druid Time Origin</strong>: Not checked</li>
<li><strong>Limit Selector Values</strong>: Empty</li>
</ul></li>
</ul>
<div class="figure"><span id="fig:conceptFilter"></span>
<img src="images/conceptFilter.png" alt="Settings for creating the concept filter." width="100%" />
<p class="caption">
Figure 8.3: Settings for creating the concept filter.
</p>
</div>
</div>
<div id="number-of-concepts" class="section level4" number="8.1.2.3">
<h4><span class="header-section-number">8.1.2.3</span> Number of Concepts</h4>
<p>Discuss what is important to see in this chart… TO DO
The main characteristics of this chart are presented in Figure <a href="#fig:visitTypes"><strong>??</strong></a>, being the following:</p>
<ul>
<li><strong>Data Tab</strong>:
<ul>
<li><strong>Visualization Type</strong>: Bar Chart</li>
<li><strong>Time range</strong>: No filter</li>
<li><strong>Metrics</strong>:</li>
<li><strong>Filters</strong>: Empty</li>
<li><strong>Series</strong>:</li>
<li><strong>Breakdowns</strong>:</li>
<li><strong>Row limit</strong>: Empty</li>
<li><strong>Contribution</strong>: Not checked</li>
</ul></li>
<li><strong>Costumize Tab</strong>:
<ul>
<li><strong>Y Axis Label</strong>:</li>
<li><strong>X Axis Label</strong>:</li>
<li><strong>Legend</strong>: Checked</li>
<li><strong>Stacked Bars</strong>:</li>
<li><strong>Bar Values</strong>:</li>
<li><strong>Sort Bars</strong>:</li>
<li><strong>Extra Controls</strong>:</li>
<li><strong>Reduce X ticks</strong>:</li>
</ul></li>
</ul>
<div class="figure"><span id="fig:visitTypes8"></span>
<img src="images/populationCharacteristicsObservationPeriodStartDates.png" alt="Settings for creating chart representing the number of patients at the start of their observation period (bar chart). Image changed to contain information hidden in the customize menu." width="100%" />
<p class="caption">
Figure 8.4: Settings for creating chart representing the number of patients at the start of their observation period (bar chart). Image changed to contain information hidden in the customize menu.
</p>
</div>
</div>
<div id="concept-browser-table" class="section level4" number="8.1.2.4">
<h4><span class="header-section-number">8.1.2.4</span> Concept Browser Table</h4>
<!-- Discuss what is important to see in this chart... TO DO -->
<p>The main characteristics of this chart are presented in Figure <a href="#fig:visitTypes"><strong>??</strong></a>, being the following:</p>
<ul>
<li><strong>Data Tab</strong>:
<ul>
<li><strong>Visualization Type</strong>: Bar Chart</li>
<li><strong>Time range</strong>: No filter</li>
<li><strong>Metrics</strong>:</li>
<li><strong>Filters</strong>: Empty</li>
<li><strong>Series</strong>:</li>
<li><strong>Breakdowns</strong>:</li>
<li><strong>Row limit</strong>: Empty</li>
<li><strong>Contribution</strong>: Not checked</li>
</ul></li>
<li><strong>Costumize Tab</strong>:
<ul>
<li><strong>Y Axis Label</strong>:</li>
<li><strong>X Axis Label</strong>:</li>
<li><strong>Legend</strong>: Checked</li>
<li><strong>Stacked Bars</strong>:</li>
<li><strong>Bar Values</strong>:</li>
<li><strong>Sort Bars</strong>:</li>
<li><strong>Extra Controls</strong>:</li>
<li><strong>Reduce X ticks</strong>:</li>
</ul></li>
</ul>
<div class="figure"><span id="fig:visitTypes3"></span>
<img src="images/populationCharacteristicsObservationPeriodStartDates.png" alt="Settings for creating chart representing the number of patients at the start of their observation period (bar chart). Image changed to contain information hidden in the customize menu." width="100%" />
<p class="caption">
Figure 8.5: Settings for creating chart representing the number of patients at the start of their observation period (bar chart). Image changed to contain information hidden in the customize menu.
</p>
</div>
</div>
<div id="of-occurrences" class="section level4" number="8.1.2.5">
<h4><span class="header-section-number">8.1.2.5</span> # of Occurrences</h4>
<!-- Discuss what is important to see in this chart... TO DO -->
<p>The main characteristics of this chart are presented in Figure <a href="#fig:visitTypes"><strong>??</strong></a>, being the following:</p>
<ul>
<li><strong>Data Tab</strong>:
<ul>
<li><strong>Visualization Type</strong>: Bar Chart</li>
<li><strong>Time range</strong>: No filter</li>
<li><strong>Metrics</strong>:</li>
<li><strong>Filters</strong>: Empty</li>
<li><strong>Series</strong>:</li>
<li><strong>Breakdowns</strong>:</li>
<li><strong>Row limit</strong>: Empty</li>
<li><strong>Contribution</strong>: Not checked</li>
</ul></li>
<li><strong>Costumize Tab</strong>:
<ul>
<li><strong>Y Axis Label</strong>:</li>
<li><strong>X Axis Label</strong>:</li>
<li><strong>Legend</strong>: Checked</li>
<li><strong>Stacked Bars</strong>:</li>
<li><strong>Bar Values</strong>:</li>
<li><strong>Sort Bars</strong>:</li>
<li><strong>Extra Controls</strong>:</li>
<li><strong>Reduce X ticks</strong>:</li>
</ul></li>
</ul>
<div class="figure"><span id="fig:visitTypes4"></span>
<img src="images/populationCharacteristicsObservationPeriodStartDates.png" alt="Settings for creating chart representing the number of patients at the start of their observation period (bar chart). Image changed to contain information hidden in the customize menu." width="100%" />
<p class="caption">
Figure 8.6: Settings for creating chart representing the number of patients at the start of their observation period (bar chart). Image changed to contain information hidden in the customize menu.
</p>
</div>
</div>
<div id="of-patients" class="section level4" number="8.1.2.6">
<h4><span class="header-section-number">8.1.2.6</span> # of Patients</h4>
<!-- Discuss what is important to see in this chart... TO DO -->
<p>The main characteristics of this chart are presented in Figure <a href="#fig:visitTypes"><strong>??</strong></a>, being the following:</p>
<ul>
<li><strong>Data Tab</strong>:
<ul>
<li><strong>Visualization Type</strong>: Bar Chart</li>
<li><strong>Time range</strong>: No filter</li>
<li><strong>Metrics</strong>:</li>
<li><strong>Filters</strong>: Empty</li>
<li><strong>Series</strong>:</li>
<li><strong>Breakdowns</strong>:</li>
<li><strong>Row limit</strong>: Empty</li>
<li><strong>Contribution</strong>: Not checked</li>
</ul></li>
<li><strong>Costumize Tab</strong>:
<ul>
<li><strong>Y Axis Label</strong>:</li>
<li><strong>X Axis Label</strong>:</li>
<li><strong>Legend</strong>: Checked</li>
<li><strong>Stacked Bars</strong>:</li>
<li><strong>Bar Values</strong>:</li>
<li><strong>Sort Bars</strong>:</li>
<li><strong>Extra Controls</strong>:</li>
<li><strong>Reduce X ticks</strong>:</li>
</ul></li>
</ul>
<div class="figure"><span id="fig:visitTypes5"></span>
<img src="images/populationCharacteristicsObservationPeriodStartDates.png" alt="Settings for creating chart representing the number of patients at the start of their observation period (bar chart). Image changed to contain information hidden in the customize menu." width="100%" />
<p class="caption">
Figure 8.7: Settings for creating chart representing the number of patients at the start of their observation period (bar chart). Image changed to contain information hidden in the customize menu.
</p>
</div>
</div>
</div>
</div>
<div id="concepts-domains-tab" class="section level2" number="8.2">
<h2><span class="header-section-number">8.2</span> Concepts Domains Tab</h2>
<!-- Discuss what is important to see in this chart... TO DO -->
<p>This tab is composed of six bar charts that show the percentage of existent concepts in each database. These charts are similar but divided by the concept domains existent in the standard vocabularies, which are the conditions, procedures, drugs, observations, measurements and devices. Figure <a href="concepts.html#fig:conceptsDomainsLayout">8.8</a> shows this dashboard’s layout.</p>
<div class="figure"><span id="fig:conceptsDomainsLayout"></span>
<img src="images/conceptsDomainsLayout.png" alt="Distribution of charts on the dashboard." width="100%" />
<p class="caption">
Figure 8.8: Distribution of charts on the dashboard.
</p>
</div>
<div id="sql-query-23" class="section level3" number="8.2.1">
<h3><span class="header-section-number">8.2.1</span> SQL query</h3>
<div class="sourceCode" id="cb33"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb33-1"><a href="concepts.html#cb33-1" aria-hidden="true"></a><span class="co">-- Concepts Domains</span></span>
<span id="cb33-2"><a href="concepts.html#cb33-2" aria-hidden="true"></a><span class="kw">SELECT</span> <span class="kw">source</span>.name,</span>
<span id="cb33-3"><a href="concepts.html#cb33-3" aria-hidden="true"></a>    <span class="cf">CASE</span> <span class="cf">WHEN</span> analysis_id <span class="op">=</span> <span class="dv">405</span> <span class="cf">THEN</span> <span class="st">&#39;Condition&#39;</span></span>
<span id="cb33-4"><a href="concepts.html#cb33-4" aria-hidden="true"></a>    <span class="cf">WHEN</span> analysis_id <span class="op">=</span> <span class="dv">605</span> <span class="cf">THEN</span> <span class="st">&#39;Procedure&#39;</span></span>
<span id="cb33-5"><a href="concepts.html#cb33-5" aria-hidden="true"></a>    <span class="cf">WHEN</span> analysis_id <span class="op">=</span> <span class="dv">705</span> <span class="cf">THEN</span> <span class="st">&#39;Drug&#39;</span></span>
<span id="cb33-6"><a href="concepts.html#cb33-6" aria-hidden="true"></a>    <span class="cf">WHEN</span> analysis_id <span class="op">=</span> <span class="dv">805</span> <span class="cf">THEN</span> <span class="st">&#39;Observation&#39;</span></span>
<span id="cb33-7"><a href="concepts.html#cb33-7" aria-hidden="true"></a>    <span class="cf">WHEN</span> analysis_id <span class="op">=</span> <span class="dv">1805</span> <span class="cf">THEN</span> <span class="st">&#39;Measurement&#39;</span></span>
<span id="cb33-8"><a href="concepts.html#cb33-8" aria-hidden="true"></a>    <span class="cf">WHEN</span> analysis_id <span class="op">=</span> <span class="dv">2105</span> <span class="cf">THEN</span> <span class="st">&#39;Device&#39;</span></span>
<span id="cb33-9"><a href="concepts.html#cb33-9" aria-hidden="true"></a>    <span class="cf">ELSE</span> <span class="st">&#39;Other&#39;</span> <span class="cf">END</span> <span class="kw">AS</span> domain_name,</span>
<span id="cb33-10"><a href="concepts.html#cb33-10" aria-hidden="true"></a>    concept_name, <span class="fu">sum</span>(count_value) <span class="kw">AS</span> num_records</span>
<span id="cb33-11"><a href="concepts.html#cb33-11" aria-hidden="true"></a><span class="kw">FROM</span> <span class="kw">public</span>.achilles_results <span class="kw">AS</span> achilles </span>
<span id="cb33-12"><a href="concepts.html#cb33-12" aria-hidden="true"></a>    <span class="kw">INNER</span> <span class="kw">JOIN</span> <span class="kw">public</span>.data_source <span class="kw">AS</span> <span class="kw">source</span> <span class="kw">ON</span> </span>
<span id="cb33-13"><a href="concepts.html#cb33-13" aria-hidden="true"></a>      achilles.data_source_id<span class="op">=</span><span class="kw">source</span>.<span class="kw">id</span></span>
<span id="cb33-14"><a href="concepts.html#cb33-14" aria-hidden="true"></a>    <span class="kw">INNER</span> <span class="kw">JOIN</span> <span class="kw">public</span>.concept <span class="kw">AS</span> c1 <span class="kw">ON</span> </span>
<span id="cb33-15"><a href="concepts.html#cb33-15" aria-hidden="true"></a>      stratum_2 <span class="op">=</span> <span class="fu">CAST</span>(concept_id <span class="kw">AS</span> text)</span>
<span id="cb33-16"><a href="concepts.html#cb33-16" aria-hidden="true"></a><span class="kw">WHERE</span> analysis_id <span class="kw">IN</span> (<span class="dv">405</span>, <span class="dv">605</span>, <span class="dv">705</span>, <span class="dv">805</span>, <span class="dv">1805</span>, <span class="dv">2105</span>)</span>
<span id="cb33-17"><a href="concepts.html#cb33-17" aria-hidden="true"></a><span class="kw">GROUP</span> <span class="kw">BY</span> <span class="kw">source</span>.name, concept_name, </span>
<span id="cb33-18"><a href="concepts.html#cb33-18" aria-hidden="true"></a>    <span class="cf">CASE</span> <span class="cf">WHEN</span> analysis_id <span class="op">=</span> <span class="dv">405</span> <span class="cf">THEN</span> <span class="st">&#39;Condition&#39;</span></span>
<span id="cb33-19"><a href="concepts.html#cb33-19" aria-hidden="true"></a>    <span class="cf">WHEN</span> analysis_id <span class="op">=</span> <span class="dv">605</span> <span class="cf">THEN</span> <span class="st">&#39;Procedure&#39;</span></span>
<span id="cb33-20"><a href="concepts.html#cb33-20" aria-hidden="true"></a>    <span class="cf">WHEN</span> analysis_id <span class="op">=</span> <span class="dv">705</span> <span class="cf">THEN</span> <span class="st">&#39;Drug&#39;</span></span>
<span id="cb33-21"><a href="concepts.html#cb33-21" aria-hidden="true"></a>    <span class="cf">WHEN</span> analysis_id <span class="op">=</span> <span class="dv">805</span> <span class="cf">THEN</span> <span class="st">&#39;Observation&#39;</span></span>
<span id="cb33-22"><a href="concepts.html#cb33-22" aria-hidden="true"></a>    <span class="cf">WHEN</span> analysis_id <span class="op">=</span> <span class="dv">1805</span> <span class="cf">THEN</span> <span class="st">&#39;Measurement&#39;</span></span>
<span id="cb33-23"><a href="concepts.html#cb33-23" aria-hidden="true"></a>    <span class="cf">WHEN</span> analysis_id <span class="op">=</span> <span class="dv">2105</span> <span class="cf">THEN</span> <span class="st">&#39;Device&#39;</span></span>
<span id="cb33-24"><a href="concepts.html#cb33-24" aria-hidden="true"></a>    <span class="cf">ELSE</span> <span class="st">&#39;Other&#39;</span> <span class="cf">END</span></span></code></pre></div>
</div>
<div id="chart-settings-22" class="section level3" number="8.2.2">
<h3><span class="header-section-number">8.2.2</span> Chart settings</h3>
<p>The difference between the six charts related to concept domains is the condition in the filter. Therefore, to create all the charts of this dashboard, it is necessary to follow the main characteristics presented in Figure <a href="concepts.html#fig:conceptsDomainTypes">8.9</a> and the list of possible values for the filter. Those characteristics are the following:</p>
<ul>
<li><strong>Data Tab</strong>:
<ul>
<li><strong>Visualization Type</strong>: Bar Chart</li>
<li><strong>Time range</strong>: No filter</li>
<li><strong>Metrics</strong>: SUM(num_records) as “Nr Records”</li>
<li><strong>Filters</strong>: domain = <strong>See filter list</strong></li>
<li><strong>Series</strong>: name</li>
<li><strong>Breakdowns</strong>: concept_name</li>
<li><strong>Row limit</strong>: Empty</li>
<li><strong>Contribution</strong>: Checked</li>
</ul></li>
<li><strong>Costumize Tab</strong>:
<ul>
<li><strong>Y Axis Label</strong>:</li>
<li><strong>X Axis Label</strong>:</li>
<li><strong>Legend</strong>: Checked</li>
<li><strong>Stacked Bars</strong>: Checked</li>
<li><strong>Bar Values</strong>: Not checked</li>
<li><strong>Sort Bars</strong>: Not checked</li>
<li><strong>Extra Controls</strong>: Not checked</li>
<li><strong>Reduce X ticks</strong>: Not checked</li>
</ul></li>
<li><strong>Filter List</strong>:
<ul>
<li><strong>Concepts - Condition Types</strong>: Condition</li>
<li><strong>Concepts - Procedure Types</strong>: Procedure</li>
<li><strong>Concepts - Drug Types</strong>: Drug</li>
<li><strong>Concepts - Observation Types</strong>: Observation</li>
<li><strong>Concepts - Measurement Types</strong>: Measurement</li>
<li><strong>Concepts - Device Types</strong>: Device</li>
</ul></li>
</ul>
<div class="figure"><span id="fig:conceptsDomainTypes"></span>
<img src="images/conceptsDomainTypes.png" alt="Settings for creating all the charts related with the concept domains for each databases (bar chart). Image changed to contain information hidden in the customize menu." width="100%" />
<p class="caption">
Figure 8.9: Settings for creating all the charts related with the concept domains for each databases (bar chart). Image changed to contain information hidden in the customize menu.
</p>
</div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="death.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-domains.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/08-concepts.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["DataNetworkDashboards.pdf", "DataNetworkDashboards.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
